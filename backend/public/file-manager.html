<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dosya YÃ¶netimi - Admin Panel</title>
  <link rel="stylesheet" href="/css/file-manager.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <div>
        <h1>ğŸ—‚ï¸ Dosya YÃ¶netimi - Admin Panel</h1>
        <p id="adminInfo">YÃ¼kleniyor...</p>
      </div>
      <div>
        <button class="btn btn-secondary" id="projectsBtn">ğŸ—ï¸ Projeler</button>
        <button class="btn btn-danger" id="logoutBtn">Ã‡Ä±kÄ±ÅŸ</button>
      </div>
    </div>

    <div class="nav-tabs">
      <button class="nav-tab active" data-tab="files">ğŸ“ Dosya YÃ¶netimi</button>
      <button class="nav-tab" data-tab="upload">â¬†ï¸ Dosya YÃ¼kleme</button>
      <button class="nav-tab" data-tab="users">ğŸ‘¥ KullanÄ±cÄ± YÃ¶netimi</button>
      <button class="nav-tab" data-tab="stats">ğŸ“Š Ä°statistikler</button>
    </div>

    <div class="message" id="message" style="display:none"></div>

    <!-- Dosya YÃ¶netimi Tab -->
    <div class="tab-content active" id="files-tab">
      <div class="content-grid">
        <div class="sidebar">
          <h3>ğŸ“‹ Projeler</h3>
          <ul class="project-list" id="projectList">
            <li class="project-item">Projeler yÃ¼kleniyor...</li>
          </ul>
        </div>
        <div class="main-content">
          <div id="filesContent">
            <p style="text-align: center; color: rgba(255,255,255,0.6); padding: 40px;">
              ğŸ‘ˆ Soldan bir proje seÃ§in
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Dosya YÃ¼kleme Tab -->
    <div class="tab-content" id="upload-tab">
      <div class="form-group">
        <label for="uploadProject">Proje SeÃ§in</label>
        <select id="uploadProject">
          <option value="">Proje seÃ§in...</option>
        </select>
      </div>

      <div class="form-group">
        <label for="uploadCategory">Dosya Kategorisi</label>
        <select id="uploadCategory">
          <option value="drone_photos">ğŸš Drone FotoÄŸraflarÄ± (GÃ¶rseller)</option>
          <option value="drone_photos_file">ğŸš Drone FotoÄŸraflarÄ± (ArÅŸiv)</option>
          <option value="floor_plans">ğŸ“ Kat PlanlarÄ± (GÃ¶rseller)</option>
          <option value="floor_plans_file">ğŸ“ Kat PlanlarÄ± (DWG/ZIP)</option>
          <option value="orthophoto">ğŸ—ºï¸ Ortofoto</option>
          <option value="view_360">ğŸŒ 360Â° GÃ¶rÃ¼nÃ¼m</option>
          <option value="fbx_model_file">ğŸ—ï¸ 3D Model (FBX ZIP)</option>
          <option value="muteahhit">ğŸ—ï¸ MÃ¼teahhit Deposu (Serbest)</option>
          <option value="other">ğŸ“‹ DiÄŸer Belgeler</option>
        </select>
      </div>

      <div class="upload-zone" id="uploadZone">
        <p>ğŸ“ DosyalarÄ± buraya sÃ¼rÃ¼kleyin veya tÄ±klayÄ±n</p>
        <p style="font-size: 12px; opacity: 0.7;">JPG, PNG, PDF, DWG, ZIP, RAR, FBX desteklenir</p>
        <input type="file" id="fileInput" multiple accept="image/*,.pdf,.dwg,.zip,.rar,.fbx" style="display: none;">
      </div>

      <div id="selectedFiles" style="margin: 20px 0;"></div>
      <div class="progress-bar" id="uploadProgress">
        <div class="progress-fill" id="uploadProgressFill"></div>
      </div>

      <button class="btn btn-primary" id="uploadBtn" disabled>
        ğŸ“¤ DosyalarÄ± YÃ¼kle
      </button>
    </div>

    <!-- KullanÄ±cÄ± YÃ¶netimi Tab -->
    <div class="tab-content" id="users-tab">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h3>ğŸ‘¥ KullanÄ±cÄ± Listesi</h3>
        <button class="btn btn-primary" id="addUserBtn">â• Yeni KullanÄ±cÄ±</button>
      </div>

      <table class="user-table" id="userTable">
        <thead>
          <tr>
            <th>ID</th>
            <th>Telefon</th>
            <th>Rol</th>
            <th>Durum</th>
            <th>Atanan Projeler</th>
            <th>Ä°ÅŸlemler</th>
          </tr>
        </thead>
        <tbody id="userTableBody">
          <tr><td colspan="6" style="text-align: center;">KullanÄ±cÄ±lar yÃ¼kleniyor...</td></tr>
        </tbody>
      </table>
    </div>

    <!-- Ä°statistikler Tab -->
    <div class="tab-content" id="stats-tab">
      <div class="stats-grid" id="statsGrid">
        <div class="stat-card">
          <div class="stat-value" id="totalProjects">-</div>
          <div class="stat-label">Toplam Proje</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="totalFiles">-</div>
          <div class="stat-label">Toplam Dosya</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="totalUsers">-</div>
          <div class="stat-label">Toplam KullanÄ±cÄ±</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="totalSize">-</div>
          <div class="stat-label">Toplam Boyut</div>
        </div>
      </div>

      <h3>ğŸ“ˆ Proje BazÄ±nda Dosya DaÄŸÄ±lÄ±mÄ±</h3>
      <div id="projectStats"></div>
    </div>
  </div>

  <script defer src="/js/file-manager.js"></script>
</body>
</html>